import{p as oe,b as re,c as C,e as h,f as S,g as M,i as W,v as X,j as x,k as T,t as Y,l as K,m as q,q as z,s as Z,T as ie,u as se,F as ee,x as ne,y as J,d as R,z as ce,r as m,A as de,B as I,n as L,w as O,C as _}from"./@vue-fd051e09.js";var N=R({name:"CloseIcon"}),ge={class:"icon-wrapper"},pe=[function(e){return oe("data-v-1a43cbde"),e=e(),re(),e}(function(){return C("svg",{id:"Capa_1",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 512.001 512.001"},[C("g",null,[C("g",null,[C("path",{d:`M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717
        L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859
        c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287
        l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285
        L284.286,256.002z`})])])],-1)})];N.render=function(e,n,i,r,o,d){return h(),S("div",ge,pe)},N.__scopeId="data-v-1a43cbde",N.__file="src/components/CloseIcon.vue";var A=R({name:"SmartTag",components:{CloseIcon:N},props:{name:{type:String,default:""},classNames:{type:Object,default:function(){return{container:"tag_container",name:"tag_name",closeButton:"tag_close_btn"}}},onRemove:{type:Function,required:!0},onEdit:{type:Function,required:!0},editable:{type:Boolean,default:!1},id:{type:String,default:null},highlight:Boolean,readOnly:{type:Boolean,default:!1},tagStyle:{type:Object,default:function(){return{foreColor:"",backgroundColor:""}}}},setup:function(e){var n=m(!1),i=m(e.name),r=m(),o=de(e,"highlight"),d=I(function(){return e.editable&&n.value&&!e.readOnly}),g=I(function(){return!e.readOnly}),a=I(function(){return{background:o.value?"#b20000":e.tagStyle.backgroundColor,color:e.tagStyle.foreColor}});return{handleRemove:function(t){return e.onRemove(t)},handleDoubleClick:function(){e.editable&&!e.readOnly&&(n.value=!n.value,L(function(){r.value.focus()}))},handleSaveEdit:function(){n.value=!1,e.onEdit(e.id,i.value)},handleEscape:function(){n.value=!1},editMode:n,input:i,inputTextRef:r,canShowInputbox:d,canShowRemoveBtn:g,style:a}}});A.render=function(e,n,i,r,o,d){var g=M("CloseIcon");return h(),S("div",{class:T(["tag-container",[e.canShowRemoveBtn?"":"no-remove",e.classNames.container]]),style:z(e.style)},[e.canShowInputbox?W((h(),S("input",{key:0,ref:"inputTextRef","onUpdate:modelValue":n[0]||(n[0]=function(a){return e.input=a}),type:"text",class:"tag-edit-input",onBlur:n[1]||(n[1]=function(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return e.handleEscape&&e.handleEscape.apply(e,a)}),onKeyup:[n[2]||(n[2]=x(function(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return e.handleSaveEdit&&e.handleSaveEdit.apply(e,a)},["enter"])),n[3]||(n[3]=x(function(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return e.handleEscape&&e.handleEscape.apply(e,a)},["esc"]))]},null,544)),[[X,e.input]]):(h(),S("span",{key:1,class:T(["tag-name",e.classNames.name]),onDblclick:n[4]||(n[4]=function(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return e.handleDoubleClick&&e.handleDoubleClick.apply(e,a)})},Y(e.name),35)),e.canShowRemoveBtn?(h(),S("button",{key:2,type:"button",class:T(e.classNames.closeButton),onClick:n[5]||(n[5]=function(a){return e.handleRemove(e.id)})},[K(g)],2)):q("v-if",!0)],6)},A.__scopeId="data-v-bb7ceecc",A.__file="src/components/Tag.vue";var P=R({name:"SmartTags",components:{SmartTag:A},props:{readOnly:{type:Boolean,default:!1},tags:{type:Array,required:!0},classNames:{type:Object,default:function(){return{}}},onRemove:{type:Function,required:!0},onEdit:{type:Function,required:!0},editable:{type:Boolean,default:!1},tagStyle:{type:Object,default:function(){return{}}}},setup:function(e){var n=e.readOnly?e.tags.map(function(r){return Object.assign({},r,{editable:!1})}):e.tags,i=m(n);return O(function(){return e.tags},function(r){i.value=r}),{localTags:i,handleRemove:function(r){return e.onRemove(r)},handleEdit:function(r,o){return e.onEdit(r,o)}}}}),fe={class:"tags-container"};P.render=function(e,n,i,r,o,d){var g=M("SmartTag");return h(),S("div",fe,[K(ie,{name:"tags-list"},{default:Z(function(){return[(h(!0),S(ee,null,ne(e.localTags,function(a){return h(),ce(g,{id:a.id,key:a.id,highlight:a.highlight,name:a.name,value:a.value,"on-remove":e.handleRemove,"on-edit":e.handleEdit,editable:e.editable,"read-only":e.readOnly,"tag-style":e.tagStyle,"class-names":{container:e.classNames.container,name:e.classNames.name,closeButton:e.classNames.closeButton}},null,8,["id","highlight","name","value","on-remove","on-edit","editable","read-only","tag-style","class-names"])}),128))]}),_:1}),se(e.$slots,"default")])},P.__scopeId="data-v-acc9a86e",P.__file="src/components/Tags.vue";var j=R({name:"SuggestPane",props:{items:{type:Array,default:function(){return[]},required:!0},show:{type:Boolean,default:!1},onSelection:{type:Function},onPaneEsc:{type:Function},keyword:{type:String,required:!0},paneStyle:{type:Object,default:function(){return{bgColor:""}}},selectedIndex:{type:Number,default:-1}},setup:function(e){var n=m(!1),i=function(o){return e.onSelection&&e.onSelection(o)},r=m(null);return O(function(){return e.show},function(o){n.value=!!o}),{handleSelection:i,showPane:n,paneRef:r,handleEnter:function(o){o.preventDefault(),o.stopImmediatePropagation();var d=e.items[e.selectedIndex];i(d)}}}}),ve={key:0,class:"suggest-pane-container"},me=["onMousedown"];function Q(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}j.render=function(e,n,i,r,o,d){return e.showPane?(h(),S("div",ve,[C("ul",{ref:"paneRef",class:"suggest-pane",style:z({background:e.paneStyle.bgColor}),tabindex:"0"},[(h(!0),S(ee,null,ne(e.items,function(g,a){return h(),S("li",{key:g,class:T(["suggest-pane-item",{selected:a===e.selectedIndex}]),onMousedown:function(t){return e.handleSelection(g)}},[C("span",null,Y(g),1)],42,me)}),128))],4)])):q("v-if",!0)},j.__scopeId="data-v-f2c085e8",j.__file="src/components/SuggestPane.vue";var he=function(e,n,i,r,o,d){if(n){var g=i-r,a=o?n.split(o):[];if(!(a.length>1))return{newData:e.concat({name:n,value:n,id:Math.random().toString(16).slice(2)}),tagsCreated:r+1};if(a=a.slice(0,Math.min(a.length,g)),!d){var t=e.map(function(v){return v.name}),l=a.filter(function(v){return t.includes(v)===!1});a=[].concat(new Set(l))}if(a.length)return{newData:e.concat(a.map(function(v){return{name:v,value:v,id:Math.random().toString(16).slice(2)}})),tagsCreated:r+a.length}}};function D(e){for(var n=void 0,i=e[0],r=1;r<e.length;){var o=e[r],d=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&i==null)return;o==="access"||o==="optionalAccess"?(n=i,i=d(i)):o!=="call"&&o!=="optionalCall"||(i=d(function(){for(var g=[],a=arguments.length;a--;)g[a]=arguments[a];return i.call.apply(i,[n].concat(g))}),n=void 0)}return i}var F=R({name:"SmartTagz",components:{SmartTags:P,SuggestionPane:j},props:{readOnly:{type:Boolean,default:!1},classNames:{type:Object,default:function(){return{wrapper:"tags_wrapper_custom",tag_name:"tag_name_custom",tag_container:"tag_container_custom",tag_close_btn:"tag_close_btn_custom"}}},defaultTags:{type:Array,default:function(){return[]}},width:{type:String,default:"100%"},sources:{type:Array,default:function(){return[]}},autosuggest:{type:Boolean,default:!1},allowPaste:{type:Object,default:null},editable:{type:Boolean,default:!1},allowDuplicates:{type:Boolean,default:!0},maxTags:{type:Number,default:20},inputPlaceholder:{type:String,default:"Enter tag..."},quickDelete:{type:Boolean,default:!1},onChanged:{type:Function,default:null},theme:{type:Object,default:function(){return{primary:"#6093ca",background:"#eaf1f8",tagTextColor:"#fff"}}}},setup:function(e){var n=e.autosuggest,i=e.allowPaste;i===void 0&&(i={delimiter:","});var r=e.allowDuplicates,o=e.maxTags,d=e.defaultTags;d===void 0&&(d=[]);var g=e.sources,a=e.quickDelete,t=e.width,l=e.onChanged,v=m(null),s=m(d.slice(0,o).map(function(u){return{id:Math.random().toString(16).slice(2),name:u,value:u}})),U=m(null),k=m(""),b=m(d.length?Math.min(d.length,o):0),w=m(!1),E=m(!1),y=m(-1),te=I(function(){return{width:t}}),B=I(function(){var u=new RegExp("^"+Q(k.value),"i");return g.filter(function(c){return u.test(c)})}),V=function(){U.value.focus()};O(function(){return s.value.length},function(){D([l,"optionalCall",function(u){return u(s.value.map(function(c){return c.value}))}])}),O(k,function(u){v.value&&(v.value=null,s.value=s.value.map(function(c){return delete c.highlight,c})),u?(E.value=!1,n&&u.length>0?w.value=!0:n&&u.length<1&&(w.value=!1)):w.value=!1}),O(E,function(u){s.value=s.value.map(function(c){return Object.assign({},c,{highlight:u})})});var $=function(u){var c="",p=_(y);if(function(G){var ae=new RegExp("^"+Q(G)+"$","ig"),le=r||!s.value.some(function(H){return H.name===G||ae.test(H.name)}),ue=b.value<o;return le&&ue}(c=p>-1?B.value[p]:u)){var f=null;(f=w.value&&y.value>-1?B.value[y.value]:c)&&(s.value=s.value.concat({name:f,id:Math.random().toString(16).slice(2),value:f})),k.value="",w.value=!1,b.value=+b.value+1,y.value=-1,L(function(){return V()})}};return{tagsData:s,input:k,style:te,textInputRef:U,showSuggestions:w,selectedIndex:y,filteredItems:B,handleKeyUp:function(u){u.preventDefault();var c=_(y);y.value=c>0?y.value-1:_(B).length-1},handleKeydown:function(u){u.preventDefault(),_(y)<_(B).length-1?y.value=+y.value+1:y.value=0},handleAddTag:$,handleRemoveTag:function(u){s.value=s.value.filter(function(c){return c.id!==u}),b.value=+b.value-1},handleDelete:function(){if(!k.value){if(E.value)return s.value=[],E.value=!1,void(b.value=0);if(v.value){var u=v.value;s.value=s.value.filter(function(p){return p.id!==u.id}),v.value=null,b.value=+b.value-1}else if(s.value.length){var c=s.value[s.value.length-1];v.value={id:c.id},s.value=s.value.map(function(p){return p.id===c.id?Object.assign({},p,{highlight:!0}):p})}}},handleEscape:function(){return s.value=s.value.map(function(u){return delete u.highlight,u}),w.value=!1,E.value=!1,void(y.value=-1)},handlePaste:function(u){u.stopPropagation(),u.preventDefault();var c=D([u,"access",function(f){return f.clipboardData},"optionalAccess",function(f){return f.getData},"call",function(f){return f("text")}]);if(c){var p=he(_(s),c,o,+_(b),D([i,"optionalAccess",function(f){return f.delimiter}]),r);D([p,"optionalAccess",function(f){return f.newData}])&&(s.value=p.newData,b.value=p.tagsCreated)}},handleEditTag:function(u,c){s.value=s.value.map(function(p){return p.id===u?Object.assign({},p,{name:c,value:c}):p}),D([l,"optionalCall",function(p){return p(s.value.map(function(f){return f.value}))}])},handleSuggestSelection:function(u){w.value=!1,L(function(){$(u)})},handleSuggestEsc:function(){V(),w.value=!1},handleSelectAll:function(u){a&&(u.keyCode!==65||k.value||(E.value=!0,v.value=null))}}}}),ye={key:0,class:"input-wrapper"},Se=["placeholder"];F.render=function(e,n,i,r,o,d){var g=M("SuggestionPane"),a=M("SmartTags");return h(),S("div",{class:T(["tags-main",e.classNames.wrapper]),style:z({background:e.theme.background}),onKeyup:n[9]||(n[9]=J(function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handleSelectAll&&e.handleSelectAll.apply(e,t)},["ctrl"]))},[K(a,{tags:e.tagsData,"on-remove":e.handleRemoveTag,"on-edit":e.handleEditTag,editable:e.editable,"read-only":e.readOnly,"tag-style":{foreColor:e.theme.tagTextColor,backgroundColor:e.theme.primary},"class-names":{container:e.classNames.tag_container,name:e.classNames.tag_name,closeButton:e.classNames.tag_close_btn}},{default:Z(function(){return[e.tagsData.length<e.maxTags?(h(),S("div",ye,[e.readOnly?q("v-if",!0):W((h(),S("input",{key:0,ref:"textInputRef","onUpdate:modelValue":n[0]||(n[0]=function(t){return e.input=t}),type:"text",placeholder:e.inputPlaceholder,onKeyup:[n[1]||(n[1]=x(function(t){return e.handleAddTag(t.target.value.trim())},["enter"])),n[2]||(n[2]=x(function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handleDelete&&e.handleDelete.apply(e,t)},["delete"])),n[3]||(n[3]=x(function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handleEscape&&e.handleEscape.apply(e,t)},["esc"]))],onKeydown:[n[4]||(n[4]=x(function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handleKeydown&&e.handleKeydown.apply(e,t)},["down"])),n[5]||(n[5]=x(function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handleKeyUp&&e.handleKeyUp.apply(e,t)},["up"])),n[6]||(n[6]=J(function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handleSelectAll&&e.handleSelectAll.apply(e,t)},["ctrl","exact"]))],onPaste:n[7]||(n[7]=function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handlePaste&&e.handlePaste.apply(e,t)}),onBlur:n[8]||(n[8]=function(){for(var t=[],l=arguments.length;l--;)t[l]=arguments[l];return e.handleEscape&&e.handleEscape.apply(e,t)})},null,40,Se)),[[X,e.input]]),C("div",{class:T(["suggestion-wrapper",{hidden:!e.showSuggestions}])},[K(g,{show:e.showSuggestions,items:e.filteredItems,keyword:e.input,"on-selection":e.handleSuggestSelection,"on-pane-esc":e.handleSuggestEsc,"pane-style":{bgColor:e.theme.primary},"selected-index":e.selectedIndex,focus:!1},null,8,["show","items","keyword","on-selection","on-pane-esc","pane-style","selected-index"])],2)])):q("v-if",!0)]}),_:1},8,["tags","on-remove","on-edit","editable","read-only","tag-style","class-names"])],38)},F.__scopeId="data-v-54d3a52e",F.__file="src/components/Main.vue";export{F};
